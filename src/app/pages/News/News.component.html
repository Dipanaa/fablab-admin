

@if (newsService.errorHandler()) {
  <error-component></error-component>
}

@if(newsService.newsLoading()){
  <h1 class="text-2xl">Cargando contenido...</h1>
}

<div class="flex justify-between flex-wrap md:flex-nowrap w-full gap-2">
  <div>
    <h1 class="text-3xl font-bold">Administraci√≥n de noticias</h1>
  </div>

  <div class="flex right-0 top-0 gap-2">
    <!--TODO: Agregar svgs-->
    <button class="bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl  px-4 py-2 cursor-pointer" routerLink="noticias">Recargar Noticias</button>
    <button class="bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl  px-4 py-2 cursor-pointer" routerLink="creationnew">+ Agregar Noticia</button>
  </div>
</div>



@if(newsService.newsResponse().length){
  <div class="container flex flex-col gap-2 sm:flex-row sm:flex-wrap h-screen mt-5">
    @for (new of newsService.newsResponse(); track $index; let idx = $index) {
    <div class="w-full sm:w-[360px]">
        <div class="rounded-lg overflow-hidden h-[600px] animate__animated animate__fadeInLeft">
          <div class="relative overflow-hidden pb-60">
            <img
              class="absolute h-full w-full object-cover object-center"
              src="https://collect.criggzdesign.com/wp-content/uploads/2020/07/5c77d8a62417e4405611bb42_3k-color-1-scaled.jpg"
              alt=""
            />
          </div>
          <div class="relative bg-white text-black">
            <div class="py-7 px-8">
              <p class="text-gray-600 text-sm"><span id="icon-state-color" class="{{getColorNew(new.estado)}}">O</span> {{getStateNew(new.estado)}}</p>
              <h3 class="text-2xl font-bold h-[100px] overflow-ellipsis overflow-y-hidden">{{new.titulo}}</h3>
              <div class="text-gray-600 text-sm font-medium flex mb-4 mt-2">
                <p>{{new.fechaPublicacion | date:"short"}}</p>
              </div>
              <p class="leading-7 overflow-ellipsis overflow-y-hidden h-[80px]">
                  {{new.contenido}}
              </p>
              <div class="mt-10 flex justify-end items-center">
                <button class="btn" [routerLink]="`administrationnew/${new.id}`">Administrar</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    }
  </div>
}
